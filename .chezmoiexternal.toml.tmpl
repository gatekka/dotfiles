{{- if and .ohmyzsh }}

[".oh-my-zsh"]
type = "archive"
url = "https://github.com/ohmyzsh/ohmyzsh/archive/master.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"

[".oh-my-zsh/custom/plugins/zsh-autosuggestions"]
type = "archive"
url = "https://github.com/zsh-users/zsh-autosuggestions/archive/master.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"

[".oh-my-zsh/custom/plugins/zsh-syntax-highlighting"]
type = "archive"
url = "https://github.com/zsh-users/zsh-syntax-highlighting/archive/master.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"

[".oh-my-zsh/custom/plugins/fzf-tab"]
type = "archive"
url = "https://github.com/Aloxaf/fzf-tab/archive/refs/tags/v1.2.0.tar.gz"
exact = true
stripComponents = 1

{{- end }}

{{- if and .lazygit (not (lookPath "lazygit")) }}

[".local/bin/lazygit"]
type = "archive-file"
url = "https://github.com/jesseduffield/lazygit/releases/download/v0.58.1/lazygit_0.58.1_{{ .chezmoi.os }}_{{ if eq .chezmoi.arch "amd64" }}x86_64{{else}}{{ .chezmoi.arch }}{{ end }}.tar.gz"
executable = true
path = "lazygit"

{{- end }}

{{- if and .fzf (not (lookPath "fzf")) }}

[".local/bin/fzf"]
type = "archive-file"
url = "https://github.com/junegunn/fzf/releases/download/v0.67.0/fzf-0.67.0-{{ .chezmoi.os }}_{{ .chezmoi.arch }}.tar.gz"
executable = true
path = "fzf"

{{- end }}

{{- if and .zoxide (not (lookPath "zoxide")) }}

{{- $arch := .chezmoi.arch }}
  {{- if eq $arch "amd64" }}
    {{- $arch = "x86_64" }}
  {{- else if eq $arch "arm64" }}
    {{- $arch = "aarch64" }}
{{- end }}

[".local/bin/zoxide"]
type = "archive-file"
{{- if eq .chezmoi.os "darwin" }}
url = "https://github.com/ajeetdsouza/zoxide/releases/download/v0.9.8/zoxide-0.9.8-{{ $arch }}-apple-darwin.tar.gz"
{{- else if eq .chezmoi.os "linux" }}
url = "https://github.com/ajeetdsouza/zoxide/releases/download/v0.9.8/zoxide-0.9.8-{{ $arch }}-unknown-linux-musl.tar.gz"
{{- end }}
executable = true
path = "zoxide"

{{- end }}

{{- if and .neovim (not (lookPath "nvim")) }}

{{- $os := .chezmoi.os }}
  {{- if eq $os "darwin" }}
    {{- $os = "macos" }}
{{- end }}

{{- $arch := .chezmoi.arch }}
  {{- if eq $arch "amd64" }}
    {{- $arch = "x86_64" }}
{{- end }}

[".local/opt/nvim"]
type = "archive"
url = "https://github.com/neovim/neovim/releases/download/v0.11.6/nvim-{{ $os }}-{{ $arch }}.tar.gz"
stripComponents = 1
exact = true

{{- end }}

{{- if not (lookPath "mise") }}

{{- $os := .chezmoi.os }}
  {{- if eq $os "darwin" }}
    {{- $os = "macos" }}
{{- end }}

[".local/bin/mise"]
type = "file"
executable = true
url = "https://mise.jdx.dev/mise-latest-{{$os}}-{{.chezmoi.arch}}"

{{- end }}


{{- if not (lookPath "delta") }}

[".local/bin/delta"]
type = "archive-file"
url = "https://github.com/dandavison/delta/releases/download/0.18.2/delta-0.18.2-{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else if eq .chezmoi.arch "amd64" }}x86_64{{ end }}-{{ if eq .chezmoi.os "darwin" }}apple-darwin{{ else if eq .chezmoi.os "linux"}}unknown-linux-gnu{{ end }}.tar.gz"
executable = true
stripComponents = 1
path = "delta"

{{- end }}
